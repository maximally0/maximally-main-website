[
  {
    "schema_name": "public",
    "table_name": "admin_activity_feed",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can view activity feed",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "is_admin_role(auth.uid())",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "admin_activity_feed",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "System can insert activity feed",
    "cmd": "INSERT",
    "roles": "{public}",
    "using_expression": null,
    "with_check_expression": "true"
  },
  {
    "schema_name": "public",
    "table_name": "admin_audit_logs",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can view audit logs",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "admin_has_permission('can_view_audit_logs'::text, auth.uid())",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "admin_audit_logs",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "System can insert audit logs",
    "cmd": "INSERT",
    "roles": "{public}",
    "using_expression": null,
    "with_check_expression": "true"
  },
  {
    "schema_name": "public",
    "table_name": "admin_roles",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can view their own role",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(user_id = auth.uid())",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "admin_roles",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Super admins can manage all roles",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "is_super_admin(auth.uid())",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "blogs",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Allow all operations for authenticated users",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "(auth.role() = 'authenticated'::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "blogs",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Allow public read access",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "true",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "certificate_templates",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can create templates",
    "cmd": "INSERT",
    "roles": "{public}",
    "using_expression": null,
    "with_check_expression": "((created_by)::text = (auth.uid())::text)"
  },
  {
    "schema_name": "public",
    "table_name": "certificate_templates",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can delete own templates",
    "cmd": "DELETE",
    "roles": "{public}",
    "using_expression": "((created_by)::text = (auth.uid())::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "certificate_templates",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can update own templates",
    "cmd": "UPDATE",
    "roles": "{public}",
    "using_expression": "((created_by)::text = (auth.uid())::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "certificate_templates",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can view public templates",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "((is_public = true) OR ((created_by)::text = (auth.uid())::text))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "certificates",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admin can delete certificates",
    "cmd": "DELETE",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE (((profiles.id)::text = (auth.uid())::text) AND (profiles.role = 'admin'::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "certificates",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admin can insert certificates",
    "cmd": "INSERT",
    "roles": "{public}",
    "using_expression": null,
    "with_check_expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE (((profiles.id)::text = (auth.uid())::text) AND (profiles.role = 'admin'::text))))"
  },
  {
    "schema_name": "public",
    "table_name": "certificates",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admin can update certificates",
    "cmd": "UPDATE",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE (((profiles.id)::text = (auth.uid())::text) AND (profiles.role = 'admin'::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "certificates",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admin can view all certificates",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE (((profiles.id)::text = (auth.uid())::text) AND (profiles.role = 'admin'::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "certificates",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "allow_public_select_on_certificates",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "true",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "dashboard",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Allow all operations for authenticated users",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "(auth.role() = 'authenticated'::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "dashboard",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Allow public read access",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "true",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "email_logs",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admin full access to email_logs",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "(auth.role() = 'authenticated'::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "email_templates",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admin full access to email_templates",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "(auth.role() = 'authenticated'::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "featured_hackathons",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Allow admins to update",
    "cmd": "UPDATE",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM admin_roles\n  WHERE ((admin_roles.user_id = auth.uid()) AND (admin_roles.role = ANY (ARRAY['super_admin'::text, 'admin'::text])))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "featured_hackathons",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Allow public read access",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "true",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "gallery_project_likes",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Anyone can view likes",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "true",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "gallery_project_likes",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can like projects",
    "cmd": "INSERT",
    "roles": "{public}",
    "using_expression": null,
    "with_check_expression": "((auth.uid())::text = (user_id)::text)"
  },
  {
    "schema_name": "public",
    "table_name": "gallery_project_likes",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can unlike projects",
    "cmd": "DELETE",
    "roles": "{public}",
    "using_expression": "((auth.uid())::text = (user_id)::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "gallery_projects",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Anyone can view approved projects",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "((status)::text = ANY ((ARRAY['approved'::character varying, 'featured'::character varying])::text[]))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "gallery_projects",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can delete their own projects",
    "cmd": "DELETE",
    "roles": "{public}",
    "using_expression": "((auth.uid())::text = (user_id)::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "gallery_projects",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can insert their own projects",
    "cmd": "INSERT",
    "roles": "{public}",
    "using_expression": null,
    "with_check_expression": "((auth.uid())::text = (user_id)::text)"
  },
  {
    "schema_name": "public",
    "table_name": "gallery_projects",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can manage own projects",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "((user_id)::text = (auth.uid())::text)",
    "with_check_expression": "((user_id)::text = (auth.uid())::text)"
  },
  {
    "schema_name": "public",
    "table_name": "gallery_projects",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can update their own projects",
    "cmd": "UPDATE",
    "roles": "{public}",
    "using_expression": "((auth.uid())::text = (user_id)::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "gallery_projects",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can view their own projects",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "((auth.uid())::text = (user_id)::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_analytics",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can view analytics",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM organizer_hackathons\n  WHERE ((organizer_hackathons.id = hackathon_analytics.hackathon_id) AND (organizer_hackathons.organizer_id = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_announcement_reads",
    "rls_enabled": false,
    "rls_forced": false,
    "policyname": null,
    "cmd": null,
    "roles": null,
    "using_expression": null,
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_announcements",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Anyone can view published announcements",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(is_published = true)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_announcements",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can manage announcements",
    "cmd": "ALL",
    "roles": "{authenticated}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM organizer_hackathons\n  WHERE ((organizer_hackathons.id = hackathon_announcements.hackathon_id) AND (organizer_hackathons.organizer_id = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_announcements",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can manage their announcements",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM organizer_hackathons\n  WHERE ((organizer_hackathons.id = hackathon_announcements.hackathon_id) AND (organizer_hackathons.organizer_id = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_announcements",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Participants can view published announcements",
    "cmd": "SELECT",
    "roles": "{authenticated}",
    "using_expression": "((is_published = true) AND (EXISTS ( SELECT 1\n   FROM hackathon_registrations\n  WHERE ((hackathon_registrations.hackathon_id = hackathon_announcements.hackathon_id) AND ((hackathon_registrations.user_id)::text = (auth.uid())::text)))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_custom_answers",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can manage own answers",
    "cmd": "ALL",
    "roles": "{authenticated}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM hackathon_registrations\n  WHERE ((hackathon_registrations.id = hackathon_custom_answers.registration_id) AND ((hackathon_registrations.user_id)::text = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_custom_questions",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can manage custom questions",
    "cmd": "ALL",
    "roles": "{authenticated}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM organizer_hackathons\n  WHERE ((organizer_hackathons.id = hackathon_custom_questions.hackathon_id) AND (organizer_hackathons.organizer_id = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_custom_questions",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Participants can view custom questions",
    "cmd": "SELECT",
    "roles": "{authenticated}",
    "using_expression": "true",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_edit_requests",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can update edit requests",
    "cmd": "UPDATE",
    "roles": "{authenticated}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE (((profiles.id)::text = (auth.uid())::text) AND (profiles.role = 'admin'::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_edit_requests",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can view all edit requests",
    "cmd": "SELECT",
    "roles": "{authenticated}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE (((profiles.id)::text = (auth.uid())::text) AND (profiles.role = 'admin'::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_edit_requests",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can create edit requests",
    "cmd": "INSERT",
    "roles": "{authenticated}",
    "using_expression": null,
    "with_check_expression": "(organizer_id = (auth.uid())::text)"
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_edit_requests",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can view own edit requests",
    "cmd": "SELECT",
    "roles": "{authenticated}",
    "using_expression": "(organizer_id = (auth.uid())::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_email_campaigns",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can manage email campaigns",
    "cmd": "ALL",
    "roles": "{authenticated}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM organizer_hackathons\n  WHERE ((organizer_hackathons.id = hackathon_email_campaigns.hackathon_id) AND (organizer_hackathons.organizer_id = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_feedback_forms",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Anyone can view active feedback forms",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(is_active = true)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_feedback_forms",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can manage feedback forms",
    "cmd": "ALL",
    "roles": "{authenticated}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM organizer_hackathons\n  WHERE ((organizer_hackathons.id = hackathon_feedback_forms.hackathon_id) AND (organizer_hackathons.organizer_id = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_feedback_responses",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can view all responses",
    "cmd": "SELECT",
    "roles": "{authenticated}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM (hackathon_feedback_forms ff\n     JOIN organizer_hackathons oh ON ((ff.hackathon_id = oh.id)))\n  WHERE ((ff.id = hackathon_feedback_responses.form_id) AND (oh.organizer_id = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_feedback_responses",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can submit feedback",
    "cmd": "INSERT",
    "roles": "{authenticated}",
    "using_expression": null,
    "with_check_expression": "(((respondent_id)::text = (auth.uid())::text) OR (respondent_id IS NULL))"
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_feedback_responses",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can view own responses",
    "cmd": "SELECT",
    "roles": "{authenticated}",
    "using_expression": "(((respondent_id)::text = (auth.uid())::text) OR (respondent_id IS NULL))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_judges",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can manage all hackathon judges",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_judges",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can manage hackathon judges",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM organizer_hackathons oh\n  WHERE ((oh.id = hackathon_judges.hackathon_id) AND (oh.organizer_id = (auth.uid())::text))))",
    "with_check_expression": "(EXISTS ( SELECT 1\n   FROM organizer_hackathons oh\n  WHERE ((oh.id = hackathon_judges.hackathon_id) AND (oh.organizer_id = (auth.uid())::text))))"
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_judges",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Public can view judges for published hackathons",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM organizer_hackathons oh\n  WHERE ((oh.id = hackathon_judges.hackathon_id) AND (oh.status = 'published'::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_mentors",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Anyone can view active mentors",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(status = 'active'::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_mentorship_sessions",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Mentors can manage sessions",
    "cmd": "ALL",
    "roles": "{authenticated}",
    "using_expression": "((mentor_id)::text = (auth.uid())::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_mentorship_sessions",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can manage all sessions",
    "cmd": "ALL",
    "roles": "{authenticated}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM organizer_hackathons\n  WHERE ((organizer_hackathons.id = hackathon_mentorship_sessions.hackathon_id) AND (organizer_hackathons.organizer_id = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_mentorship_sessions",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Participants can view own sessions",
    "cmd": "SELECT",
    "roles": "{authenticated}",
    "using_expression": "(((mentor_id)::text = (auth.uid())::text) OR ((mentee_id)::text = (auth.uid())::text))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_organizers",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Owners can manage hackathon organizers",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM organizer_hackathons oh\n  WHERE ((oh.id = hackathon_organizers.hackathon_id) AND (oh.organizer_id = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_organizers",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can update own invitations",
    "cmd": "UPDATE",
    "roles": "{public}",
    "using_expression": "(user_id = auth.uid())",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_organizers",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can view own invitations",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(user_id = auth.uid())",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_participant_feedback",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Public feedback is viewable by everyone",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(is_public = true)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_participant_feedback",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can insert their own feedback",
    "cmd": "INSERT",
    "roles": "{public}",
    "using_expression": null,
    "with_check_expression": "((auth.uid())::text = (user_id)::text)"
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_participant_feedback",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can update their own feedback",
    "cmd": "UPDATE",
    "roles": "{public}",
    "using_expression": "((auth.uid())::text = (user_id)::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_participant_feedback",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can view their own feedback",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "((auth.uid())::text = (user_id)::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_participant_messages",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Participants can view messages",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "((recipient_type = 'all'::text) OR ((sender_id)::text = (auth.uid())::text) OR ((auth.uid())::text IN ( SELECT (unnest(hackathon_participant_messages.recipient_ids))::text AS unnest)))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_registration_analytics",
    "rls_enabled": false,
    "rls_forced": false,
    "policyname": null,
    "cmd": null,
    "roles": null,
    "using_expression": null,
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_registration_notes",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can manage registration notes",
    "cmd": "ALL",
    "roles": "{authenticated}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM (hackathon_registrations r\n     JOIN organizer_hackathons h ON ((h.id = r.hackathon_id)))\n  WHERE ((r.id = hackathon_registration_notes.registration_id) AND (h.organizer_id = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_registration_tag_assignments",
    "rls_enabled": false,
    "rls_forced": false,
    "policyname": null,
    "cmd": null,
    "roles": null,
    "using_expression": null,
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_registration_tags",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can manage tags",
    "cmd": "ALL",
    "roles": "{authenticated}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM organizer_hackathons\n  WHERE ((organizer_hackathons.id = hackathon_registration_tags.hackathon_id) AND (organizer_hackathons.organizer_id = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_registrations",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can view hackathon registrations",
    "cmd": "SELECT",
    "roles": "{authenticated}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM organizer_hackathons\n  WHERE ((organizer_hackathons.id = hackathon_registrations.hackathon_id) AND (organizer_hackathons.organizer_id = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_registrations",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can create registrations",
    "cmd": "INSERT",
    "roles": "{public}",
    "using_expression": null,
    "with_check_expression": "((user_id)::text = (auth.uid())::text)"
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_registrations",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can update own registrations",
    "cmd": "UPDATE",
    "roles": "{public}",
    "using_expression": "((user_id)::text = (auth.uid())::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_registrations",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can view own registrations",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "((user_id)::text = (auth.uid())::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_resources",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Participants can view resources",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM hackathon_registrations\n  WHERE ((hackathon_registrations.hackathon_id = hackathon_resources.hackathon_id) AND ((hackathon_registrations.user_id)::text = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_schedule_events",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Anyone can view schedule",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "true",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_sponsors",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Anyone can view active sponsors",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(is_active = true)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_sponsors",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can manage sponsors",
    "cmd": "ALL",
    "roles": "{authenticated}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM organizer_hackathons\n  WHERE ((organizer_hackathons.id = hackathon_sponsors.hackathon_id) AND (organizer_hackathons.organizer_id = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_submission_milestones",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Team can manage milestones",
    "cmd": "ALL",
    "roles": "{authenticated}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM hackathon_submissions s\n  WHERE ((s.id = hackathon_submission_milestones.submission_id) AND (s.user_id = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_submission_milestones",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Team can view milestones",
    "cmd": "SELECT",
    "roles": "{authenticated}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM hackathon_submissions s\n  WHERE ((s.id = hackathon_submission_milestones.submission_id) AND (s.user_id = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_submissions",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can create submissions",
    "cmd": "INSERT",
    "roles": "{public}",
    "using_expression": null,
    "with_check_expression": "(user_id = (auth.uid())::text)"
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_submissions",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can update own submissions",
    "cmd": "UPDATE",
    "roles": "{public}",
    "using_expression": "(user_id = (auth.uid())::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_submissions",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can view own submissions",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "((user_id = (auth.uid())::text) OR (EXISTS ( SELECT 1\n   FROM hackathon_registrations r\n  WHERE ((r.team_id = hackathon_submissions.team_id) AND ((r.user_id)::text = (auth.uid())::text)))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_team_invitations",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Invited users can update invitations",
    "cmd": "UPDATE",
    "roles": "{authenticated}",
    "using_expression": "(invited_user_id = (auth.uid())::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_team_invitations",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Team members can create invitations",
    "cmd": "INSERT",
    "roles": "{authenticated}",
    "using_expression": null,
    "with_check_expression": "(EXISTS ( SELECT 1\n   FROM hackathon_teams\n  WHERE ((hackathon_teams.id = hackathon_team_invitations.team_id) AND ((hackathon_teams.team_leader_id = (auth.uid())::text) OR (EXISTS ( SELECT 1\n           FROM hackathon_registrations\n          WHERE ((hackathon_registrations.team_id = hackathon_teams.id) AND ((hackathon_registrations.user_id)::text = (auth.uid())::text))))))))"
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_team_invitations",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can view invitations sent to them",
    "cmd": "SELECT",
    "roles": "{authenticated}",
    "using_expression": "((invited_user_id = (auth.uid())::text) OR (invited_by_user_id = (auth.uid())::text))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_team_messages",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Team members can view messages",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM hackathon_registrations\n  WHERE ((hackathon_registrations.team_id = hackathon_team_messages.team_id) AND ((hackathon_registrations.user_id)::text = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_team_tasks",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Team members can manage tasks",
    "cmd": "ALL",
    "roles": "{authenticated}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM (hackathon_teams t\n     JOIN hackathon_registrations r ON ((r.team_id = t.id)))\n  WHERE ((t.id = hackathon_team_tasks.team_id) AND ((r.user_id)::text = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_team_tasks",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Team members can view tasks",
    "cmd": "SELECT",
    "roles": "{authenticated}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM (hackathon_teams t\n     JOIN hackathon_registrations r ON ((r.team_id = t.id)))\n  WHERE ((t.id = hackathon_team_tasks.team_id) AND ((r.user_id)::text = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_teams",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Team leaders can update team",
    "cmd": "UPDATE",
    "roles": "{authenticated}",
    "using_expression": "(team_leader_id = (auth.uid())::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_teams",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Team members can view their team",
    "cmd": "SELECT",
    "roles": "{authenticated}",
    "using_expression": "((team_leader_id = (auth.uid())::text) OR (EXISTS ( SELECT 1\n   FROM hackathon_registrations\n  WHERE ((hackathon_registrations.team_id = hackathon_teams.id) AND ((hackathon_registrations.user_id)::text = (auth.uid())::text)))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_teams",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can create teams",
    "cmd": "INSERT",
    "roles": "{authenticated}",
    "using_expression": null,
    "with_check_expression": "(team_leader_id = (auth.uid())::text)"
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_tracks",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Anyone can view active tracks",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(is_active = true)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_tracks",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can manage tracks",
    "cmd": "ALL",
    "roles": "{authenticated}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM organizer_hackathons\n  WHERE ((organizer_hackathons.id = hackathon_tracks.hackathon_id) AND (organizer_hackathons.organizer_id = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_winners",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Anyone can view winners",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "true",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathon_winners",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can manage winners",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM organizer_hackathons\n  WHERE ((organizer_hackathons.id = hackathon_winners.hackathon_id) AND (organizer_hackathons.organizer_id = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathons",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Allow all operations for authenticated users",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "(auth.role() = 'authenticated'::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "hackathons",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Allow public read access",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "true",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "judge_scores",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can view all scores",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "judge_scores",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can view scores for their hackathons",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM organizer_hackathons oh\n  WHERE ((oh.id = judge_scores.hackathon_id) AND (oh.organizer_id = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "judge_scores",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Public can view scores for ended hackathons",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM organizer_hackathons oh\n  WHERE ((oh.id = judge_scores.hackathon_id) AND (oh.hackathon_status = 'ended'::text) AND (oh.winners_announced = true))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "judge_scores",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Service role for score management",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "false",
    "with_check_expression": "false"
  },
  {
    "schema_name": "public",
    "table_name": "judge_scoring_tokens",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can view all scoring tokens",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "judge_scoring_tokens",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can view tokens for their hackathons",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM organizer_hackathons oh\n  WHERE ((oh.id = judge_scoring_tokens.hackathon_id) AND (oh.organizer_id = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "judge_scoring_tokens",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Service role only for scoring tokens",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "false",
    "with_check_expression": "false"
  },
  {
    "schema_name": "public",
    "table_name": "moderation_queue",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can manage moderation queue",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM admin_roles ar\n  WHERE ((ar.user_id = auth.uid()) AND (((ar.permissions ->> 'can_manage_queue'::text))::boolean = true))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "moderation_queue",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can view moderation queue",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM admin_roles ar\n  WHERE ((ar.user_id = auth.uid()) AND (((ar.permissions ->> 'can_manage_queue'::text))::boolean = true))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "notification_reads",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can insert own reads",
    "cmd": "INSERT",
    "roles": "{public}",
    "using_expression": null,
    "with_check_expression": "((user_id)::text = (auth.uid())::text)"
  },
  {
    "schema_name": "public",
    "table_name": "notification_reads",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can view own reads",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "((user_id)::text = (auth.uid())::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "notification_targets",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Only service role can manage targets",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "false",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "notifications",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can delete own notifications",
    "cmd": "DELETE",
    "roles": "{public}",
    "using_expression": "((user_id)::text = (auth.uid())::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "notifications",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can update own notifications",
    "cmd": "UPDATE",
    "roles": "{public}",
    "using_expression": "((user_id)::text = (auth.uid())::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "notifications",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can view own notifications",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(((user_id)::text = (auth.uid())::text) AND (is_deleted = false))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "organizer_applications",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can delete applications",
    "cmd": "DELETE",
    "roles": "{authenticated}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE (((profiles.id)::text = (auth.uid())::text) AND (profiles.role = 'admin'::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "organizer_applications",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can update applications",
    "cmd": "UPDATE",
    "roles": "{authenticated}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE (((profiles.id)::text = (auth.uid())::text) AND (profiles.role = 'admin'::text))))",
    "with_check_expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE (((profiles.id)::text = (auth.uid())::text) AND (profiles.role = 'admin'::text))))"
  },
  {
    "schema_name": "public",
    "table_name": "organizer_applications",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can view all applications",
    "cmd": "SELECT",
    "roles": "{authenticated}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE (((profiles.id)::text = (auth.uid())::text) AND (profiles.role = 'admin'::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "organizer_applications",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can create own application",
    "cmd": "INSERT",
    "roles": "{public}",
    "using_expression": null,
    "with_check_expression": "((user_id)::text = (auth.uid())::text)"
  },
  {
    "schema_name": "public",
    "table_name": "organizer_applications",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can update own pending application",
    "cmd": "UPDATE",
    "roles": "{authenticated}",
    "using_expression": "(((user_id)::text = (auth.uid())::text) AND (status = 'pending'::text))",
    "with_check_expression": "(((user_id)::text = (auth.uid())::text) AND (status = 'pending'::text))"
  },
  {
    "schema_name": "public",
    "table_name": "organizer_applications",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can view own application",
    "cmd": "SELECT",
    "roles": "{authenticated}",
    "using_expression": "((user_id)::text = (auth.uid())::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "organizer_hackathons",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins have full access",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE (((profiles.id)::text = (auth.uid())::text) AND (profiles.role = 'admin'::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "organizer_hackathons",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can create hackathons",
    "cmd": "INSERT",
    "roles": "{public}",
    "using_expression": null,
    "with_check_expression": "(organizer_id = (auth.uid())::text)"
  },
  {
    "schema_name": "public",
    "table_name": "organizer_hackathons",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can delete own drafts",
    "cmd": "DELETE",
    "roles": "{public}",
    "using_expression": "((organizer_id = (auth.uid())::text) AND (status = 'draft'::text))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "organizer_hackathons",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can update own hackathons",
    "cmd": "UPDATE",
    "roles": "{public}",
    "using_expression": "(organizer_id = (auth.uid())::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "organizer_hackathons",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can view own hackathons",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(organizer_id = (auth.uid())::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "organizer_hackathons",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Public can view published hackathons",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(status = 'published'::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "organizer_message_recipients",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can manage organizer message recipients",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE (((profiles.id)::text = (auth.uid())::text) AND (profiles.role = 'admin'::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "organizer_message_recipients",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can view and update their own recipients",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "((organizer_user_id)::text = (auth.uid())::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "organizer_messages",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can manage organizer messages",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE (((profiles.id)::text = (auth.uid())::text) AND (profiles.role = 'admin'::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "organizer_messages",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Organizers can view their messages",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM (organizer_message_recipients omr\n     JOIN profiles p ON ((p.username = omr.organizer_username)))\n  WHERE ((omr.message_id = organizer_messages.id) AND ((p.id)::text = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "organizer_profiles",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins have full access to profiles",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE (((profiles.id)::text = (auth.uid())::text) AND (profiles.role = 'admin'::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "organizer_profiles",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Allow public read of published organizer profiles",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(is_published = true)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "organizer_profiles",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Public can view verified profiles",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(verified_organizer = true)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "organizer_profiles",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can create own profile",
    "cmd": "INSERT",
    "roles": "{public}",
    "using_expression": null,
    "with_check_expression": "(user_id = (auth.uid())::text)"
  },
  {
    "schema_name": "public",
    "table_name": "organizer_profiles",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can update own profile",
    "cmd": "UPDATE",
    "roles": "{public}",
    "using_expression": "(user_id = (auth.uid())::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "organizer_profiles",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can view own profile",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(user_id = (auth.uid())::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "organizer_trust_scores",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can view organizer trust scores",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM admin_roles ar\n  WHERE (ar.user_id = auth.uid())))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "organizer_trust_scores",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "System can manage organizer trust scores",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "true",
    "with_check_expression": "true"
  },
  {
    "schema_name": "public",
    "table_name": "people",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Allow all operations for authenticated users",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "(auth.role() = 'authenticated'::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "people",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Allow all users to read",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "true",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "platform_notifications",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can manage notifications",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE (((profiles.id)::text = (auth.uid())::text) AND (profiles.role = 'admin'::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "platform_notifications",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Anyone can read active notifications",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "((is_active = true) AND ((expires_at IS NULL) OR (expires_at > now())))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "profiles",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "allow_delete_own_profile",
    "cmd": "DELETE",
    "roles": "{public}",
    "using_expression": "((auth.uid())::text = (id)::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "profiles",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "allow_insert_own_profile",
    "cmd": "INSERT",
    "roles": "{public}",
    "using_expression": null,
    "with_check_expression": "((auth.uid())::text = (id)::text)"
  },
  {
    "schema_name": "public",
    "table_name": "profiles",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "allow_read_all_profiles",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "true",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "profiles",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "allow_update_own_profile",
    "cmd": "UPDATE",
    "roles": "{public}",
    "using_expression": "((auth.uid())::text = (id)::text)",
    "with_check_expression": "((auth.uid())::text = (id)::text)"
  },
  {
    "schema_name": "public",
    "table_name": "recommended_tools",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can manage tools",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE (((profiles.id)::text = (auth.uid())::text) AND (profiles.role = 'admin'::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "recommended_tools",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Anyone can view active tools",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(is_active = true)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "signup_otps",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": null,
    "cmd": null,
    "roles": null,
    "using_expression": null,
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "system_metrics",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can view system metrics",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM admin_roles ar\n  WHERE (ar.user_id = auth.uid())))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "system_metrics",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "System can insert system metrics",
    "cmd": "INSERT",
    "roles": "{public}",
    "using_expression": null,
    "with_check_expression": "true"
  },
  {
    "schema_name": "public",
    "table_name": "team_collaboration_history",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "System can insert collaboration history",
    "cmd": "INSERT",
    "roles": "{public}",
    "using_expression": null,
    "with_check_expression": "true"
  },
  {
    "schema_name": "public",
    "table_name": "team_collaboration_history",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can view own collaboration history",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(((user_id)::text = (auth.uid())::text) OR ((teammate_id)::text = (auth.uid())::text))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "template_categories",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Anyone can view template categories",
    "cmd": "SELECT",
    "roles": "{authenticated}",
    "using_expression": "true",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "template_category_relations",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Anyone can view template category relations",
    "cmd": "SELECT",
    "roles": "{authenticated}",
    "using_expression": "true",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "template_elements",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can manage own template elements",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM certificate_templates\n  WHERE ((certificate_templates.id = template_elements.template_id) AND ((certificate_templates.created_by)::text = (auth.uid())::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "template_elements",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can view template elements",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM certificate_templates\n  WHERE ((certificate_templates.id = template_elements.template_id) AND ((certificate_templates.is_public = true) OR ((certificate_templates.created_by)::text = (auth.uid())::text)))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "user_hackathon_preferences",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can manage own preferences",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "((user_id)::text = (auth.uid())::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "user_moderation_actions",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can create moderation actions",
    "cmd": "INSERT",
    "roles": "{public}",
    "using_expression": null,
    "with_check_expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE (((profiles.id)::text = (auth.uid())::text) AND (profiles.role = 'admin'::text))))"
  },
  {
    "schema_name": "public",
    "table_name": "user_moderation_actions",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can view moderation actions",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE (((profiles.id)::text = (auth.uid())::text) AND (profiles.role = 'admin'::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "user_moderation_status",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can modify moderation status",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE (((profiles.id)::text = (auth.uid())::text) AND (profiles.role = 'admin'::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "user_moderation_status",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Anyone can read moderation status",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "true",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "user_notification_reads",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can mark notifications as read",
    "cmd": "INSERT",
    "roles": "{public}",
    "using_expression": null,
    "with_check_expression": "((user_id)::text = (auth.uid())::text)"
  },
  {
    "schema_name": "public",
    "table_name": "user_notification_reads",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can read own notification reads",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "((user_id)::text = (auth.uid())::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "user_reports",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can update reports",
    "cmd": "UPDATE",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE (((profiles.id)::text = (auth.uid())::text) AND (profiles.role = 'admin'::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "user_reports",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can view all reports",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE (((profiles.id)::text = (auth.uid())::text) AND (profiles.role = 'admin'::text))))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "user_reports",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can create reports",
    "cmd": "INSERT",
    "roles": "{public}",
    "using_expression": null,
    "with_check_expression": "((auth.uid())::text = (reporter_id)::text)"
  },
  {
    "schema_name": "public",
    "table_name": "user_reports",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Users can view own reports",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "((auth.uid())::text = (reporter_id)::text)",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "user_trust_scores",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "Admins can view user trust scores",
    "cmd": "SELECT",
    "roles": "{public}",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM admin_roles ar\n  WHERE (ar.user_id = auth.uid())))",
    "with_check_expression": null
  },
  {
    "schema_name": "public",
    "table_name": "user_trust_scores",
    "rls_enabled": true,
    "rls_forced": false,
    "policyname": "System can manage user trust scores",
    "cmd": "ALL",
    "roles": "{public}",
    "using_expression": "true",
    "with_check_expression": "true"
  }
]